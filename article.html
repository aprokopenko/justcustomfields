New <a href="http://codex.wordpress.org/Post_Types" target="_blank">Custom Post Types</a> in latest <a href="http://wordpress.org/" target="_blank">WordPress</a> version brings back popularity to <a href="http://wordpress.org/" target="_blank">WordPress</a> sites among clients and developers. <a href="http://wordpress.org/" target="_blank">WordPress</a> is quite easy for newbies in web and it's very easy and self-explanatory for content editors. With <a href="http://codex.wordpress.org/Post_Types" target="_blank">Custom Post Types</a> we can improve standard functionality in times and add more sections (like Posts or Pages).

In previous article  (<a href="http://justcoded.com/implementation/wordpress-3-vs-drupal-cck/" target="_blank">WordPress 3 vs Drupal CCK</a>) we presented to you few 3d-party WordPress plugins which make WordPress full-featured CMS and framework. But using those plugins everyday in development process (especially <a href="http://wordpress.org/extend/plugins/custom-fields/" target="_blank">Custom Fields</a> and our addon JC Custom Fields) we found a lot of bugs in these plugins. Also <a href="http://wordpress.org/extend/plugins/custom-fields/" target="_blank">Custom Fields</a> plugin causes huge load on the site and makes it slower. Few days ago new version of Custom Fields was announced. Changes log tell us  they've reduced load on pages, fixed many bugs an optimized the code. But few major bugs are still there. Code optimization is very far away from being perfect. It still uses a lot of memory when it's installed.

We decided to create our own Custom Fields plugin, which won't use a lot of memory and will be easy to expand.

So we want to announce to you  our new plugin named "<strong>Just Custom Fields for WordPress</strong>". This plugin adds custom fields for standard and custom post types in <a href="http://wordpress.org/" target="_blank">WordPress</a>. After installation you will see simple settings page which is self-explanatory to use.
<h3>Installation:</h3>
<ol>
	<li>Download, unzip and upload to your WordPress plugins directory</li>
	<li>Activate the plugin within your WordPress Administration Backend</li>
	<li>Go to Settings &gt; Just Custom Fields</li>
	<li>Choose  Post Type (Standard/Custom)  where you would like to edit custom fields</li>
	<li>Create Fieldset</li>
	<li>Add fields to the fieldset.</li>
</ol>
<h3>Screenshots:</h3>
On this screenshot you can see settings page for a “Page” post type. You can create fieldsets and fields inside of it. This page uses <a href="http://codex.wordpress.org/AJAX_in_Plugins" target="_blank">WordPress AJAX API</a>, so it updates without any redirects and editing rather quickly.

<a class="lightbox" rel="lightbox" href="http://justcoded.com/wp-content/uploads/2011/07/screenshot-1.png"><img class="alignnone size-large wp-image-730" title="screenshot-1" src="http://justcoded.com/wp-content/uploads/2011/07/screenshot-1-423x241.png" alt="" width="423" height="241" /></a>

You can create field with one of  types below:
<ul>
	<li>Input text: usual single-line text box</li>
	<li>Select: usual dropdown list</li>
	<li>Select Multiple:  area which allow you to select multiple options from the list</li>
	<li>Checkbox: you can add one or multiple checkboxes</li>
	<li>Textarea: multi-line text field. You can also enable WordPress editor for this field</li>
	<li>Datepicker:  input field with calendar popup to choose a date.</li>
	<li>Upload media: use this field to create multiple images or files container</li>
	<li>Fields Group: using  this field you can create a “table” of fields. For example you want to attach clients table to a  page – you can create fields group with client/phone/email fields. And add them without any HTML</li>
</ul>
Next screenshot illustrates how fieldset will look on a post edit page. There are usual text box, date picker field and Upload image field (as you can see you can upload many images here).

<a class="lightbox" rel="lightbox" href="http://justcoded.com/wp-content/uploads/2011/07/screenshot-2.png"><img class="alignnone size-large wp-image-731" title="screenshot-2" src="http://justcoded.com/wp-content/uploads/2011/07/screenshot-2-327x241.png" alt="" width="327" height="241" /></a>

Developers also find this plugin very useful. Cause  it's very easy to add their own components and custom fields with their own plugins and even themes using some new hooks. For more details you are welcome to check readme.txt from the plugin package.

<h3>Templates usage</h3>
To use values from these fields in your theme, you can use usual post meta functions such as:
<ul>
	<li><a href="http://codex.wordpress.org/Function_Reference/get_post_meta" target="_blank">get_post_meta()</a></li>
	<li><a href="http://codex.wordpress.org/Function_Reference/get_post_custom" target="_blank">get_post_custom()</a></li>
</ul>
Let's give you some examples. For example we create 3 custom fields for the Page with such slugs: price (Input Text), features (Checkboxes/multiple), slide_images (Upload Media / image). To get values in templates you need to call such lines of code inside the loop functions:
<pre lang="php">
$price = get_post_meta($post->ID, 'price', true);   // we get value for input text
$images = get_post_meta($post->ID, 'slide_images', true);  // we get array of images
$features = get_post_meta($post->ID, 'features', true);    // we get array of checked checkboxes
</pre>
Now when you have variables with data you can print them in the template. For example like this:
<pre lang="php">
<p>Price: <?php echo $price; ?></p>
<p>Features: <?php foreach($features as $feature) echo $feature.','; ?></p>
<p>Images:</p>
<?php if(!empty($images)) foreach($images as $img) : ?>
	<div class="image"><img src="<?php echo $img['image']; ?>" alt="<?php echo esc_attr($img['title']); ?>" /></div>
<?php endforeach; ?>
</pre>
If you need print single image from custom field you can use such code for this:
<pre lang="php">
<p>Image: <img src="<?php echo $images[0]['image']; ?>" alt="<?php echo esc_attr($images[0]['title']); ?>" /></p>
</pre>
You can read more about using custom fields on codex.WordPress.org: <a href="http://codex.wordpress.org/Custom_Fields" target="_blank">Custom Fields</a> or search more information in google. There are a lot of example on different sites how to use WordPress custom fields. Our plugin just make easy interface to edit them in administration panel, and you can use all build-in WordPress functions for custom fields.

<h3>Template functions for Upload Media type "Image"</h3>
Since i've posted my plugin i had a lot of comments about "How to use Upload Media field in templates". When I develop this plugin I wanted make life easier for developers. But a lot of people with pure PHP knowledge found it useful. So I decide to make few templates functions for people who are not familiar with PHP.
These functions are available <b>since version 1.3</b>:
<ul>
	<li>just_custom_image( $post_id, $field_slug, [$args_single] ); </li>
	<li>just_custom_images_list( $post_id, $field_slug, [$args_multiple] ); </li>
</ul>
These functions take care about PHP routine and just print image or images list. Function params are:
<b>$post_id</b> - your post ID
<b>$field_slug</b> - your meta field slug
<b>$args_single</b> - array of additional params you may want to use. Available keys are: <br/>* 'before' (html to insert before image tag, default: none), <br/>* 'after' (html to insert after image tag, default: none), <br/>* 'width' (image width attribute value, default: none), <br/>* 'height' (image height attribute value, default: none), <br/>* 'echo' (print html or just return, default: true)
<b>$args_multiple</b> - array of additional params you may want to use. Available keys are: <br/>* 'before' (html to insert before images list, default: '&lt;ul&gt;'), <br/>* 'after' (html to insert after images list, default: '&lt;/ul&gt;'), <br/>* 'before_item' (html to insert before images list item, default: '&lt;li&gt;'), <br/>* 'after_item' (html to insert after images list item, default: '&lt;/li&gt;'), <br/>* 'width' (image width attribute value, default: none), <br/>* 'height' (image height attribute value, default: none), <br/>* 'echo' (print html or just return, default: true)

Let's try few examples.
<b>Example 1:</b> print single image:
<pre lang="php">
	just_custom_image($post->ID, 'slide_images');
</pre>

<b>Example 2:</b> print single image wrapped with &lt;div&gt; tag and has width/height set to 100px:
<pre lang="php">
	just_custom_image($post->ID, 'slide_images', array(
		'before' => '<div class="image">',
		'after' => '</div>',
		'width' => 100,
		'height' => 100,
	));
</pre>

<b>Example 3:</b> print list of images
<pre lang="php">
	just_custom_image_list($post->ID, 'slide_images');
</pre>

<b>Example 3:</b> print list of images based on DIV tags
<pre lang="php">
	just_custom_image_list($post->ID, 'slide_images', array(
		'before' => '<div class="images_list">',
		'after' => '</div>',
		'before_item' => '<div class="image">',
		'after_item' => '</div>',
	));
</pre>


<h3>Download</h3>
Our plugin is available for download:

<a href="http://dl.dropbox.com/u/5307536/develop/wordpress/just-custom-fields.zip">download Just Custom Fields for Wordpress</a><br>or<br><a href="http://wordpress.org/extend/plugins/just-custom-fields/" target="_blank">download from WordPress.org repository</a>

<h3>DONATION</h3>
The script is free for use, but if you want to support the script author by donating some $$$ please use the form below, thanks in advance.

[donate default="10"]